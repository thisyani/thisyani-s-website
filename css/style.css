/* --- 字体定义 (无变化) --- */
@font-face {
  font-family: 'CustomFont';
  src: url('../fonts/ZCOOLXiaoWei-Regular.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}
@font-face {
  font-family: 'JapaneseFont';
  src: url('../fonts/NotoSerifJP-Medium.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/* --- 变量定义 (无变化) --- */
:root { /* ... */ }
body.dark-mode { /* ... */ }

/* --- 通用样式 (无变化) --- */
body {
    font-family: 'CustomFont', Arial, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    background: var(--bg-color);
    color: var(--text-color);
    transition: background 0.3s, color 0.3s;
}
html[lang="ja"] body {
    font-family: 'JapaneseFont', 'CustomFont', sans-serif;
}
.container {
    width: 90%;
    max-width: 960px;
    margin: auto;
    overflow: visible; /* CHANGED: 设置为 visible 或移除 overflow:hidden 来避免裁剪绝对定位的子元素 */
    padding: 20px 0;
}

/* 
================================
页头 Header (关键修改区域)
================================
*/
header {
    background: var(--header-bg-color);
    color: var(--header-text-color);
    padding: 1rem 0;
    transition: background 0.3s;
}

header .container {
    position: relative; /* ADDED: 设为相对定位，作为汉堡按钮绝对定位的基准 */
    /* REMOVED: display: flex; justify-content: space-between; align-items: center; */
    /* 这些 flex 样式将被移动到下面的 @media 规则中 */
}

header h1 {
    margin: 0;
    text-align: center; /* CHANGED: 移动端默认为居中对齐 */
    padding: 0 40px; /* ADDED: 增加内边距，防止标题与两侧按钮重叠 */
}

/* ... 其他已有样式保持不变 ... */
.main, .profile-image, .about, .social-media, footer {
    /* 假设这些样式都已存在且正确 */
}
.main { padding: 20px; background: var(--card-bg-color); border-radius: 8px; box-shadow: 0 0 10px var(--shadow-color); transition: background 0.3s; }
.profile-image { display: block; margin: 20px auto; max-width: 100%; width: 250px; height: auto; border-radius: 15px; }
.about, .social-media { margin-bottom: 20px; }
.about h2, .social-media h2 { color: var(--text-color); text-align: center; }
.about p { text-align: center; }
.social-media ul { list-style: none; padding: 0; text-align: center; }
.social-media li { display: inline-block; margin: 0 15px; }
.social-media a { text-decoration: none; color: var(--link-color); font-size: 1.1em; transition: color 0.3s; }
.social-media a:hover { text-decoration: underline; }
footer { text-align: center; padding: 20px; margin-top: 30px; color: var(--footer-text-color); transition: color 0.3s; }


/*
================================
导航栏、侧边栏和遮罩层样式 (关键修改区域)
================================
*/

/* 移动端菜单按钮 (汉堡) */
.menu-toggle {
    display: block; 
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    z-index: 1001;
    /* ADDED: 使用绝对定位将其放在右上角 */
    position: absolute;
    right: 0px; /* 调整具体位置 */
    top: 50%;
    transform: translateY(-50%);
}
.menu-toggle svg {
    stroke: var(--header-text-color);
}

/* 关闭按钮 (在侧边栏内) - 样式无变化 */
.close-menu {
    display: block;
    position: absolute;
    top: 15px;
    right: 20px;
    background: none;
    border: none;
    color: var(--text-color);
    font-size: 2.5rem;
    cursor: pointer;
}

/* 导航栏主体 (移动端作为侧边栏) - 样式无变化 */
#main-nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 280px;
    height: 100vh;
    background: var(--card-bg-color);
    z-index: 1000;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    padding: 60px 20px 20px 20px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 30px;
}
#main-nav.open {
    transform: translateX(0);
}

/* 导航链接列表 - 样式无变化 */
.nav-links {
    list-style: none;
    padding: 0;
    margin: 0;
}
.nav-links a {
    text-decoration: none;
    color: var(--text-color);
    font-size: 1.2em;
    padding: 10px 0;
    display: block;
}
.nav-links a:hover {
    color: var(--link-color);
}

/* 切换器容器 - 样式无变化 */
.controls {
    display: flex;
    flex-direction: column; 
    align-items: flex-start;
    gap: 15px;
}
.control-btn { /* ... */ }

/* 遮罩层 - 样式无变化 */
.overlay { /* ... */ }
.overlay.active { /* ... */ }


/* 
================================
桌面端样式 (屏幕宽度 > 768px) (关键修改区域)
================================
*/
@media (min-width: 768px) {
    /* ADDED: 仅在桌面端应用flex布局 */
    header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    /* ADDED: 在桌面端重置标题样式 */
    header h1 {
        text-align: left;
        padding: 0;
    }

    /* 隐藏移动端专属按钮 */
    .menu-toggle, .close-menu {
        display: none;
    }

    /* 将导航栏恢复为正常文档流的一部分 */
    #main-nav {
        position: static;
        width: auto;
        height: auto;
        background: none;
        transform: none;
        padding: 0;
        flex-direction: row;
        align-items: center;
        gap: 25px;
    }
    
    .nav-links a {
        padding: 0;
        color: var(--header-text-color); /* ADDED: 确保链接颜色与header文本颜色一致 */
    }
    
    body.dark-mode .nav-links a {
        color: var(--header-text-color); /* 确保深色模式下也一致 */
    }

    .nav-links a:hover {
        text-decoration: underline; /* 恢复悬停效果 */
    }

    /* 将切换器恢复为水平排列 */
    .controls {
        flex-direction: row;
        gap: 10px;
    }
}